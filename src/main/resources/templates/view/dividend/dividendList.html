<!--resources/templates/thymeleafEx.html-->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http//www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>배당 거래내역</title>
  <!--부트스트랩-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

  <!-- 부트 스트랩 -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


  <script type="text/javascript" th:src="@{/JS/dividend/dividend.js}"></script>
  <style>
    table{
      display:flex;
      display: -webkit-box;
      display: -ms-flexbox;
      overflow-x: auto;
      overflow-y: hidden;
      }
    tbody {
      display:flex;
      }
    th,td{
      height: 30px;
      display:block;
      }
      
    .container {
      display: grid;
      grid-auto-flow: column; /* 가로로 그리드 아이템 배치 */
      overflow-x: auto; /* 가로 스크롤 활성화 */
      gap: 10px; /* 요소 간 간격 */
      justify-content: start; /* 왼쪽 정렬 */
    }

    .item {
      height: 100px; /* 각 요소의 높이 */
      background-color: lightgray; /* 배경색 */
    }
    .fixed-table-body{
      display: flex;

    }
    .wrap-vertical{
      width: auto;
      overflow: scroll;
      /* 가로 스크롤 */
      overflow: auto;
      white-space: nowrap;
    }
new_div1,.new_div {

	width: 300px;
  /*border: 0.5px solid rgb(202, 201, 201);*/
  margin: 0 20px 0 5px;
/*margin: 위, 오른쪽, 아래, 왼쪽*/
}
.new_div > div{
  border: 0.5px solid rgb(202, 201, 201);
}
.new_div1 > div{
  border: 0.5px solid rgb(163, 162, 162);
}
  </style>

  <script th:inline="javascript">

  window.onload = function(){

    const data = /*[[${dList}]]*/;
    const trnscdate = /*[[${trnscdate}]]*/;
    const stockName = /*[[${stockName}]]*/;
    dividendList(data);
    trnscdateSelect(trnscdate);
  }

  
 
  </script>
</head>
<body>
  
    <label th:text="${title}"></label> 
    
    <br><br><br>
  <div>
      <a href="/">홈</a>
      <a href="/dividend/dividendList">배당화면</a>
      <a href="/clndr/dvdndClndr">일정관리</a>
      <br><br><br>
  </div>
  
  <div class="input-group">
    <form th:action="@{/dividend/dividendList}" method="get">
      <div class="input-group">
          &nbsp;&nbsp;
          <span class="input-group-text">년월</span>
          &nbsp;&nbsp;
        <div class="w-20">
          <select class="form-select" aria-label="Default select example" name="trnscdate" title="전체"  id="trnscdateSelect">
            <option value = "total">전체</option>
          </select>
        </div>
        &nbsp;&nbsp;
        <span class="input-group-text">항목</span>
          &nbsp;&nbsp;
          <input type="text" name="stockName" th:value="${stockName}"> 
          &nbsp;&nbsp;<button type="submit">검색</button>
      </div>
    </form>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
      등록
    </button>
  </div>

  
  <br>
  <div >
    <div  class="new_div1" style="width: 5%; float:left;">
      <!--년도--><div>년도</div>
      <!--항목--><div>항목</div>
      <!--1월--> <div>01월</div>
      <!--2월--> <div>02월</div>
      <!--3월--> <div>03월</div>
      <!--4월--> <div>04월</div>
      <!--5월--> <div>05월</div>
      <!--6월--> <div>06월</div>
      <!--7월--> <div>07월</div>
      <!--8월--> <div>08월</div>
      <!--9월--> <div>09월</div>
      <!--10월--><div>10월</div>
      <!--11월--><div>11월</div>
      <!--12월--><div>12월</div>
      <!--12월--><div>합계</div>
    </div>
    <div class="wrap-vertical">
    <div class="fixed-table-body">
    <th:block th:each="dlist : ${dList}">
          <div class="new_div" style="width: 300px;">
            <!--년도--><div  th:text="${dlist.TRNSCDATE}"></div>
            <!--항목--><div th:text="${dlist.STOCK_NAME}"></div>
            <!--1월--> <div th:text="${dlist.JANUARY}"></div>
            <!--2월--> <div th:text="${dlist.FEBRUARY}"></div>
            <!--3월--> <div th:text="${dlist.MARCH}"></div>
            <!--4월--> <div th:text="${dlist.APRIL}"></div>
            <!--5월--> <div th:text="${dlist.MAY}"></div>
            <!--6월--> <div th:text="${dlist.JUNE}" ></div>
            <!--7월--> <div th:text="${dlist.JULY}" ></div>
            <!--8월--> <div th:text="${dlist.AUGUST}" ></div>
            <!--9월--> <div th:text="${dlist.SEPTEMBER}" ></div>
            <!--10월--><div th:text="${dlist.OCTOBER}" ></div>
            <!--11월--><div th:text="${dlist.NOVEMBER}" ></div>
            <!--12월--><div th:text="${dlist.DECEMBER}" ></div>
            <!--12월--><div th:text="${
                dlist.JANUARY 
              + dlist.FEBRUARY
              + dlist.MARCH
              + dlist.APRIL
              + dlist.MAY
              + dlist.JUNE
              + dlist.JULY
              + dlist.AUGUST
              + dlist.SEPTEMBER
              + dlist.OCTOBER
              + dlist.NOVEMBER
              + dlist.DECEMBER
            }" ></div>
          </div>
    </th:block>
  </div>
</div>
  <br>
  <br>
  <div style="width: 70%;">

    <canvas id="bar_chart"></canvas>

  </div>


 <!-- Modal -->
 <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">배당 등록</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <div class="mb-3 row">
              <label class="col-sm-3 col-form-label ">주식명</label>
              <div class="col-sm-8">
                <select class="form-select" aria-label="Default select example" id="selectBox">
                  <th:block th:each="selectBox : ${selectBox}">
	                  <option name="stockName" th:value="${selectBox.stockName}"
                    th:text="${selectBox.stockName}"></option>
                  </th:block>
                </select>
              </div>
            </div>
            <div class="mb-3 row">
              <label  class="col-sm-3 col-form-label">거래 일자</label>
              <div class="col-sm-8">
                <input type="date" class="form-control" id="inputTrnscdate">
              </div>
            </div>
            <div class="mb-3 row">
              <label  class="col-sm-3 col-form-label">거래 금액</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" id="inputAmount">
              </div>
            </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">취소</button>
        <button type="button" class="btn btn-outline-success" onclick="transactionInsert();">저장</button>
      </div>
    </div>
  </div>
  </div>


</body>
</html>
